import{O as e}from"./chunk-PSGGF63T.js";var s=class{producto;cantidad;constructor(t,r=1){this.producto=t,this.cantidad=r}};var n=class o{listCarrito=[];getCarrito(){return this.obtenerSession(),this.listCarrito}agregar(t,r=1){this.obtenerSession();let i=this.listCarrito.findIndex(a=>a.producto.id==t.id);if(i===-1){let a=new s(t,r);this.listCarrito.push(a)}else this.actualizar(i,this.listCarrito[i].cantidad+r);this.guardarSession()}actualizar(t,r){t>=0&&t<this.listCarrito.length&&(this.listCarrito[t].cantidad=r,this.guardarSession())}cantidad(){return this.obtenerSession(),this.listCarrito.length}total(){return this.listCarrito.reduce((r,i)=>r+i.producto.precio*i.cantidad,0)}eliminar(t){t>=0&&t<this.listCarrito.length&&(this.listCarrito.splice(t,1),this.guardarSession())}guardarSession(){localStorage.setItem("carrito",JSON.stringify(this.listCarrito))}obtenerSession(){if(typeof window<"u"&&window.localStorage){let t=localStorage.getItem("carrito");t!=null&&(this.listCarrito=JSON.parse(t))}}static \u0275fac=function(r){return new(r||o)};static \u0275prov=e({token:o,factory:o.\u0275fac,providedIn:"root"})};export{n as a};
