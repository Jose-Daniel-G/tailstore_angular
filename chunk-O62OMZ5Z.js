import{a as P,c as z,e as A,g as B,j as R,l as j,m as W}from"./chunk-5A73AW67.js";import{a as k}from"./chunk-LROGMSBS.js";import{$a as r,Ib as D,Ja as w,Jb as N,Kb as T,Lb as O,Ma as u,Qa as t,Ra as e,Sa as s,Ta as v,U as b,Ua as _,Va as g,Wa as S,Xa as E,Y as h,ab as x,bb as I,cb as L,db as M,ea as c,eb as V,fa as p,gb as F,ib as f,jb as C,va as y,ya as a}from"./chunk-PSGGF63T.js";function q(m,n){if(m&1){let i=v();t(0,"tr")(1,"td",10),r(2),e(),t(3,"td",10),s(4,"img",20),e(),t(5,"td",10),r(6),f(7,"number"),e(),t(8,"td",10)(9,"input",21),V("ngModelChange",function(o){let d=c(i).$implicit;return M(d.cantidad,o)||(d.cantidad=o),p(o)}),_("change",function(){let o=c(i),d=o.$implicit,U=o.index,$=g();return p($.actualizar(d,U))})("keydown",function(o){c(i);let d=g();return p(d.onKeyDown(o))}),e()(),t(10,"td",10),r(11),f(12,"number"),e(),t(13,"td",10)(14,"button",22),_("click",function(){let o=c(i).index,d=g();return p(d.eliminarItem(o))}),s(15,"i",23),e()()()}if(m&2){let i=n.$implicit;a(2),x(i.producto.nombre),a(2),E("src","/img/",i.producto.imagen,"",y),S("alt",i.producto.nombre),a(2),x(C(7,7,i.producto.precio,"1.2-2")),a(3),L("ngModel",i.cantidad),a(2),x(C(12,10,i.producto.precio*i.cantidad,"1.2-2"))}}function G(m,n){m&1&&(t(0,"tr")(1,"td",24),r(2,"No hay productos en el carrito"),e()())}var K=class m{carritoService=b(k);listCarrito=[];ngOnInit(){this.getListCarrito()}getListCarrito(){this.listCarrito=this.carritoService.getCarrito()}eliminarItem(n){this.carritoService.eliminar(n),this.getListCarrito()}onKeyDown(n){n.preventDefault()}actualizar(n,i){this.carritoService.actualizar(i,n.cantidad)}static \u0275fac=function(i){return new(i||m)};static \u0275cmp=h({type:m,selectors:[["app-carrito-listado"]],standalone:!0,features:[F],decls:41,vars:7,consts:[[1,"container","mx-auto","mt-6"],[1,"text-lg","font-semibold"],[1,"my-4","border-gray-300"],[1,"flex","flex-wrap"],[1,"w-full","lg:w-3/4","px-2"],[1,"bg-white","shadow-md","rounded-lg"],[1,"p-4"],[1,"overflow-auto"],[1,"min-w-full","bg-white","border","border-gray-200","text-center","text-sm"],[1,"bg-gray-100"],[1,"py-2","px-4","border-b"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"w-full","lg:w-1/4","px-2","mt-4","lg:mt-0"],[1,"text-lg","font-semibold","mb-4"],[1,"mb-4","border-gray-300"],[1,"flex","justify-between","mb-4"],[1,"text-gray-700"],[1,"font-semibold"],[1,"w-full","bg-gray-800","text-white","py-2","rounded","hover:bg-gray-900","transition","duration-200",3,"disabled"],[1,"w-12","h-16","object-cover",3,"src","alt"],["type","number","min","1",1,"border","rounded","w-16","text-center",3,"ngModelChange","change","keydown","ngModel"],[1,"bg-red-500","text-white","text-xs","rounded","px-2","py-1","hover:bg-red-600",3,"click"],[1,"fa","fa-trash"],["colspan","6",1,"py-4","text-center","text-gray-500"]],template:function(i,l){i&1&&(t(0,"div",0)(1,"h5",1),r(2,"Mi carrito"),e(),s(3,"hr",2),t(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"table",8)(10,"thead")(11,"tr",9)(12,"th",10),r(13,"Producto"),e(),t(14,"th",10),r(15,"Imagen"),e(),t(16,"th",10),r(17,"Precio(S/)"),e(),t(18,"th",10),r(19,"Cantidad"),e(),t(20,"th",10),r(21,"Importe"),e(),t(22,"th",10),r(23,"Acci\xF3n"),e()()(),t(24,"tbody"),w(25,q,16,13,"tr",11)(26,G,3,0,"tr",12),e()()()()()(),t(27,"div",13)(28,"div",5)(29,"div",6)(30,"h5",14),r(31,"Resumen de Compra"),e(),s(32,"hr",15),t(33,"div",16)(34,"p",17),r(35,"Total"),e(),t(36,"p",18),r(37),f(38,"number"),e()(),t(39,"button",19),r(40," PROCESAR "),e()()()()()()),i&2&&(a(25),u("ngForOf",l.listCarrito),a(),u("ngIf",l.listCarrito.length===0),a(11),I("S/",C(38,4,l.carritoService.total(),"1.2-2"),""),a(2),u("disabled",l.listCarrito.length===0))},dependencies:[W,P,B,z,R,O,D,N,T,j,A]})};export{K as CarritoListadoComponent};
