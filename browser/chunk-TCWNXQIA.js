import{a as h}from"./chunk-BGUFIM6U.js";import"./chunk-NNP535OP.js";import{a as S,b as d,c as N,d as C,f as F,h as I,i as R,k as T,m as q}from"./chunk-5A73AW67.js";import{$a as a,Hb as y,Ja as l,Jb as E,Lb as w,Ma as s,Qa as n,Ra as r,Sa as p,Ua as v,Va as u,Y as f,ab as _,gb as b,hb as x,ya as m,za as g}from"./chunk-PSGGF63T.js";var M=e=>({"is-invalid":e});function P(e,o){e&1&&(n(0,"div"),a(1," El Email es requerido. "),r())}function D(e,o){e&1&&(n(0,"div"),a(1," El Email debe tener un formato v\xE1lido. "),r())}function O(e,o){if(e&1&&(n(0,"div",15),l(1,P,2,0,"div",16)(2,D,2,0,"div",16),r()),e&2){let t=u();m(),s("ngIf",t.email.errors==null?null:t.email.errors.required),m(),s("ngIf",t.email.errors==null?null:t.email.errors.email)}}function V(e,o){e&1&&(n(0,"div"),a(1," El name es requerido. "),r())}function k(e,o){e&1&&(n(0,"div"),a(1," El name debe tener un formato v\xE1lido. "),r())}function L(e,o){if(e&1&&(n(0,"div",15),l(1,V,2,0,"div",16)(2,k,2,0,"div",16),r()),e&2){let t=u();m(),s("ngIf",t.name.errors==null?null:t.name.errors.required),m(),s("ngIf",t.name.errors==null?null:t.name.errors.name)}}function U(e,o){e&1&&(n(0,"div"),a(1," El lastName es requerido. "),r())}function A(e,o){e&1&&(n(0,"div"),a(1," El lastName debe tener un formato v\xE1lido. "),r())}function B(e,o){if(e&1&&(n(0,"div",15),l(1,U,2,0,"div",16)(2,A,2,0,"div",16),r()),e&2){let t=u();m(),s("ngIf",t.lastName.errors==null?null:t.lastName.errors.required),m(),s("ngIf",t.lastName.errors==null?null:t.lastName.errors.pattern)}}function H(e,o){e&1&&(n(0,"div"),a(1," El Password es requerido. "),r())}function j(e,o){if(e&1&&(n(0,"div",15),l(1,H,2,0,"div",16),r()),e&2){let t=u();m(),s("ngIf",t.password.errors==null?null:t.password.errors.required)}}function z(e,o){e&1&&(n(0,"div",17),a(1,` Passwords do not match.
`),r())}var G=class e{constructor(o,t){this.fb=o;this.loginService=t}registerForm;submitted=!1;registerError="";ngOnInit(){this.registerForm=this.fb.group({name:["",[d.required,d.pattern("^[a-zA-Z ]+$")]],lastName:["",[d.required,d.pattern("^[a-zA-Z ]+$")]],email:["",[d.required,d.email]],password:["",d.required],password_confirmation:["",d.required]},{validators:this.passwordMatchValidator})}get name(){return this.registerForm.get("name")}get lastName(){return this.registerForm.get("lastName")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get password_confirmation(){return this.registerForm.get("password_confirmation")}passwordMatchValidator(o){let t=o.get("password")?.value,i=o.get("password_confirmation")?.value;return t===i?null:{mismatch:!0}}onSubmit(){if(this.registerForm.invalid){this.registerError="Por favor completa todos los campos correctamente.";return}let o=JSON.parse(localStorage.getItem("users")||"[]"),i={id:o.length>0?Math.max(...o.map(c=>c.id))+1:1,name:this.registerForm.value.name,lastName:this.registerForm.value.lastName,email:this.registerForm.value.email,password:this.registerForm.value.password};o.push(i),localStorage.setItem("users",JSON.stringify(o)),this.submitted=!0,this.registerError="",this.registerForm.reset()}static \u0275fac=function(t){return new(t||e)(g(T),g(h))};static \u0275cmp=f({type:e,selectors:[["app-register"]],standalone:!0,features:[b],decls:32,vars:10,consts:[[1,"max-w-md","mx-auto","p-6","bg-white","shadow-md","rounded",3,"ngSubmit","formGroup"],[1,"text-red-600","mb-4"],[1,"mb-4"],["for","inputEmail",1,"block","text-gray-700","font-semibold","mb-2"],["formControlName","email","type","email","id","inputEmail","aria-describedby","emailHelp",1,"w-full","px-3","py-2","border","border-gray-300","rounded","focus:outline-none","focus:ring","focus:ring-indigo-100"],["class","text-red-600 mt-2 text-sm",4,"ngIf"],["for","inputName",1,"block","text-gray-700","font-semibold","mb-2"],["formControlName","name","type","text","id","inputName","aria-describedby","nameHelp",1,"w-full","px-3","py-2","border","border-gray-300","rounded","focus:outline-none","focus:ring","focus:ring-indigo-100"],["for","lastName",1,"block","text-gray-700","font-semibold","mb-2"],["formControlName","lastName","type","text","id","inputLastName","aria-describedby","lastNameHelp",1,"w-full","px-3","py-2","border","border-gray-300","rounded","focus:outline-none","focus:ring","focus:ring-indigo-100"],["for","password1",1,"block","text-gray-700","font-semibold","mb-2"],["formControlName","password","type","password","id","password1",1,"w-full","px-3","py-2","border","border-gray-300","rounded","focus:outline-none","focus:ring","focus:ring-indigo-100"],["type","password","formControlName","password_confirmation","placeholder","Confirm your password",3,"ngClass"],["class","text-red-600 text-sm",4,"ngIf"],["type","submit",1,"w-full","bg-indigo-600","text-white","py-2","rounded","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-600","focus:ring-opacity-50"],[1,"text-red-600","mt-2","text-sm"],[4,"ngIf"],[1,"text-red-600","text-sm"]],template:function(t,i){t&1&&(n(0,"form",0),v("ngSubmit",function(){return i.onSubmit()}),n(1,"p",1),a(2),r(),n(3,"h1"),a(4,"Register"),r(),n(5,"div",2)(6,"label",3),a(7,"Email"),r(),p(8,"input",4),l(9,O,3,2,"div",5),r(),n(10,"label",6),a(11,"Name"),r(),p(12,"input",7),l(13,L,3,2,"div",5),n(14,"label",8),a(15,"lastName"),r(),p(16,"input",9),l(17,B,3,2,"div",5),n(18,"div",2)(19,"label",10),a(20,"Password"),r(),p(21,"input",11),l(22,j,2,1,"div",5),r(),n(23,"div",2)(24,"label"),a(25,"Confirm Password "),n(26,"span"),a(27,"*"),r()(),p(28,"input",12),l(29,z,2,0,"div",13),r(),n(30,"button",14),a(31," Iniciar Sesi\xF3n "),r()()),t&2&&(s("formGroup",i.registerForm),m(2),_(i.registerError),m(7),s("ngIf",i.email.invalid&&(i.email.dirty||i.email.touched)),m(4),s("ngIf",i.name.invalid&&(i.name.dirty||i.name.touched)),m(4),s("ngIf",i.lastName.invalid&&(i.lastName.dirty||i.lastName.touched)),m(5),s("ngIf",i.password.invalid&&(i.password.dirty||i.password.touched)),m(6),s("ngClass",x(8,M,i.submitted&&(i.registerForm.errors==null?null:i.registerForm.errors.mismatch))),m(),s("ngIf",i.password_confirmation.touched&&(i.registerForm.errors==null?null:i.registerForm.errors.mismatch)))},dependencies:[w,y,E,q,F,S,N,C,I,R]})};export{G as RegisterComponent};
